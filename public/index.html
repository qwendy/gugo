<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    
    <title>Homepage - Semantic</title>
    <link rel="stylesheet" type="text/css" href="/static/css/semantic.min.css">
    <style type="text/css">
        .hidden.menu {
            display: none;
        }
        
        .masthead.segment {
            min-height: 200px;
            padding: 1em 0em;
        }
        
        .masthead .logo.item img {
            margin-right: 1em;
        }
        
        .masthead .ui.menu .ui.button {
            margin-left: 0.5em;
        }
        
        @font-face {
            font-family: 'myHan';
            src: URL('/static/fonts/HYGuoQiangXingShuW-1.ttf') format('truetype');
        }
        
        .han {
            font-weight: normal;
            font-family: "myHan";
        }
        
        .masthead h1.ui.header {
            margin-top: 1em;
            margin-bottom: 0em;
            font-size: 2.33em;
        }
        
        .masthead h2 {
            font-size: 1.7em;
        }
        
        .ui.vertical.stripe {
            padding: 8em 0em;
        }
        
        .ui.vertical.stripe h3 {
            font-size: 2em;
        }
        
        .ui.vertical.stripe .button+h3,
        .ui.vertical.stripe p+h3 {
            margin-top: 3em;
        }
        
        .ui.vertical.stripe .floated.image {
            clear: both;
        }
        
        .ui.vertical.stripe p {
            font-size: 1.33em;
        }
        
        .ui.vertical.stripe .horizontal.divider {
            margin: 3em 0em;
        }
        
        .quote.stripe.segment {
            padding: 0em;
        }
        
        .quote.stripe.segment .grid .column {
            padding-top: 5em;
            padding-bottom: 5em;
        }
        
        .footer.segment {
            padding: 5em 0em;
        }
        
        .secondary.pointing.menu .toc.item {
            display: none;
        }
        
        @media only screen and (max-width: 700px) {
            .ui.fixed.menu {
                display: none !important;
            }
            .secondary.pointing.menu .item,
            .secondary.pointing.menu .menu {
                display: none;
            }
            .secondary.pointing.menu .toc.item {
                display: block;
            }
            .masthead.segment {
                min-height: 350px;
            }
            .masthead h1.ui.header {
                font-size: 2em;
                margin-top: 1.5em;
            }
            .masthead h2 {
                margin-top: 0.5em;
                font-size: 1.5em;
            }
        }
    </style>

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/semantic.js"></script>
    <script>
        $(document)
            .ready(function() {

                
                $('.masthead')
                    .visibility({
                        once: false,
                        onBottomPassed: function() {
                            $('.fixed.menu').transition('fade in');
                        },
                        onBottomPassedReverse: function() {
                            $('.fixed.menu').transition('fade out');
                        }
                    });

                
                $('.ui.sidebar')
                    .sidebar('attach events', '.toc.item');

            });
    </script>
</head>

<body>

    
    <div class="ui large top fixed hidden menu">
        <div class="ui container nav">
            <a class="active item">й¦–йЎµ</a></a>
            <a class="item">Category</a>
            <a class="item">ж ‡з­ѕ</a>
            <a class="item">About</a>
            <div class="right item">
                <div class="ui animated fade button" tabindex="0">
                    <div class="visible content">иµ‹ж­¤й—ґдёЂжЉ№дё№з ‚</div>
                    <div class="hidden content"><a href="">жё…з‹‚</a></div>
                </div>
            </div>
        </div>
    </div>

    
    <div class="ui vertical inverted sidebar menu">
        <a class="active item">й¦–йЎµ</a>
        <a class="item">еЅ’жЎЈ</a>
        <a class="item">ж ‡з­ѕ</a>
        <a class="item">е…ідєЋ</a>
    </div>


    
    <div class="pusher">
        <div class="ui inverted vertical masthead center aligned segment">

            <div class="ui container">
                <div class="ui large secondary inverted pointing menu">
                    <a class="toc item">
                        <i class="sidebar icon"></i>
                    </a>
                    <div class="left item">
                        <a class="ui inverted button">жё… | з‹‚</a>
                    </div>
                    <div class="right item">
                        <a class="active item">Home</a>
                        <a class="item">е€†з±»</a>
                        <a class="item">Tags</a>
                        <a class="item">е…ідєЋж€‘</a>

                    </div>
                </div>
            </div>

            <div class="ui text container">
                <h1 class="ui inverted header">
                    <span class="han">
                    дёЌзџҐйЃ“дёєд»Ђд№€пјЊе°±жЇи¦Ѓе†™дёЂеЏҐиЇќж”ѕиї™й‡Њ!
                    </span>
                </h1>
                <h2 class="han">Do whatever you want when you want to.</h2>
            </div>

        </div>

        <div class="ui vertical stripe segment">
            <div class="ui text container">
                
                <h3 class="ui header">lec01е­¦д№ з¬”и®°</h3>
                <div class="postContent">
                    <p>е€†дёє: е­е‚ЁпјЊйЂљи®Їе’Њи®Ўз®—
е…ій”®з‚№пјље®ћзЋ°пјЊжЂ§иѓЅпјЊе®№й”™е’ЊдёЂи‡ґжЂ§гЂ‚дёЂи‡ґжЂ§е’ЊжЂ§иѓЅдёЌеЏЇе…јеѕ—
split-brainзљ„ж„ЏжЂќжЇA true split brain means multiple systems are online and have accessed an exclusive resource simultaneously</p>

<p>MapReduceпјљ е®љд№‰Mapе’ЊReduceе‡Ѕж•°пјЊиѕ“е…Ґж•°з»„еЅўејЏзљ„ж•°жЌ®гЂ‚</p>

<p>ж‰©е±•пјљдёЌдє’з›ёз­‰еѕ…пјЊдёЌе…±дє«ж•°жЌ®гЂ‚еЏЇе№¶еЏ‘ж‰§иЎЊгЂ‚еЏЇеЌ•зєЇзљ„й…ЌзЅ®ж›ґе¤љзљ„и®Ўз®—жњєжќҐиЋ·еѕ—ж›ґе¤љзљ„еђћеђђй‡Џ
жЂ§иѓЅпјљHard to build a network than can run 1000x faster than a single computer.So they cared about minimizing movement of data over the network.дёЂи€¬дјљиў«зЅ‘з»њй™ђе€¶гЂ‚е°Ѕй‡Џе‡Џе°‘ж•°жЌ®ењЁзЅ‘з»њдёЉдј иѕ“гЂ‚
е®№й”™пјљеЅ“Mapе’ЊReduceе¤±иґҐж—¶пјЊй‡Ќж–°иїђиЎЊгЂ‚д»–д»¬д»…д»…жЇе‡Ѕж•°иЂЊе·ІвЂ“д»–д»¬дёЌдї®ж”№иѕ“е…Ґзљ„е†…е®№пјЊдёЌз”Ёдїќе­зЉ¶жЂЃпјЊдёЌе…±дє«е†…е­пјЊжІЎжњ‰Map-Mapе’ЊReduce-Reduceзљ„дє¤дє’гЂ‚ж‰Ђд»Ґй‡Ќж–°ж‰§иЎЊдјљеѕ—е€°з›ёеђЊзљ„иѕ“е‡єгЂ‚зєЇе‡Ѕж•°пј€pure functionпј‰зљ„иї™дёЄйњЂж±‚жЇз›ёеЇ№дєЋе…¶д»–е№¶иЎЊзј–зЁ‹ж–№жЎ€зљ„дё»и¦Ѓй™ђе€¶пјЊд№џжЇMRз®ЂеЌ•зљ„еЋџе› гЂ‚</p>

<p>MapReduceз”±Materе’ЊWorkerз»„ж€ђгЂ‚Masterз»™workersе€†й…Ќе·ҐдЅњпјЊе†іе®љworkerиїђиЎЊmapж–№жі•иїжЇreduceж–№жі•гЂ‚еЅ“workerж‰§иЎЊй”™иЇЇпјЊз›ґжЋҐй‡ЌеђЇworkerе°±еҐЅгЂ‚
masterзљ„и°ѓеє¦зЁ‹еєЏ</p>

<pre><span class="kwd">func</span> <span class="pun">(</span><span class="pln">mr</span> <span class="pun">*</span><span class="typ">Master</span><span class="pun">)</span> <span class="pln">schedule</span><span class="pun">(</span><span class="pln">phase</span> <span class="pln">jobPhase</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">var</span> <span class="pln">ntasks</span> <span class="kwd">int</span>
	<span class="kwd">var</span> <span class="pln">nios</span> <span class="kwd">int</span> <span class="com">// number of inputs (for reduce) or outputs (for map)</span>
	<span class="kwd">switch</span> <span class="pln">phase</span> <span class="pun">{</span>
	<span class="kwd">case</span> <span class="pln">mapPhase</span><span class="pun">:</span>
		<span class="pln">ntasks</span> <span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">mr</span><span class="pun">.</span><span class="pln">files</span><span class="pun">)</span>
		<span class="pln">nios</span> <span class="pun">=</span> <span class="pln">mr</span><span class="pun">.</span><span class="pln">nReduce</span>
	<span class="kwd">case</span> <span class="pln">reducePhase</span><span class="pun">:</span>
		<span class="pln">ntasks</span> <span class="pun">=</span> <span class="pln">mr</span><span class="pun">.</span><span class="pln">nReduce</span>
		<span class="pln">nios</span> <span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">mr</span><span class="pun">.</span><span class="pln">files</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Printf</span><span class="pun">(</span><span class="str">&#34;Schedule: %v %v tasks (%d I/Os)\n&#34;</span><span class="pun">,</span> <span class="pln">ntasks</span><span class="pun">,</span> <span class="pln">phase</span><span class="pun">,</span> <span class="pln">nios</span><span class="pun">)</span>
	<span class="kwd">var</span> <span class="pln">wg</span> <span class="pln">sync</span><span class="pun">.</span><span class="typ">WaitGroup</span>
	<span class="kwd">for</span> <span class="pln">i</span> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln">i</span> <span class="pun">&lt;</span> <span class="pln">ntasks</span><span class="pun">;</span> <span class="pun">{</span>
		<span class="pln">wg</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="dec">1</span><span class="pun">)</span>
		<span class="pln">go</span> <span class="kwd">func</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span> <span class="pln">nios</span> <span class="kwd">int</span><span class="pun">,</span> <span class="pln">phase</span> <span class="pln">jobPhase</span><span class="pun">)</span> <span class="pun">{</span>
			<span class="pln">defer</span> <span class="pln">wg</span><span class="pun">.</span><span class="typ">Done</span><span class="pun">(</span><span class="pun">)</span>
			<span class="pln">workrName</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">&lt;</span><span class="pun">-</span><span class="pln">mr</span><span class="pun">.</span><span class="pln">registerChannel</span>
			<span class="kwd">for</span> <span class="kwd">true</span> <span class="pun">{</span>
				<span class="pln">ok</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">call</span><span class="pun">(</span><span class="pln">workrName</span><span class="pun">,</span> <span class="str">&#34;Worker.DoTask&#34;</span><span class="pun">,</span> <span class="pun">&amp;</span><span class="typ">DoTaskArgs</span><span class="pun">{</span>
					<span class="typ">JobName</span><span class="pun">:</span>       <span class="pln">mr</span><span class="pun">.</span><span class="pln">jobName</span><span class="pun">,</span>
					<span class="typ">File</span><span class="pun">:</span>          <span class="pln">mr</span><span class="pun">.</span><span class="pln">files</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pun">,</span>
					<span class="typ">Phase</span><span class="pun">:</span>         <span class="pln">phase</span><span class="pun">,</span>
					<span class="typ">TaskNumber</span><span class="pun">:</span>    <span class="pln">i</span><span class="pun">,</span>
					<span class="typ">NumOtherPhase</span><span class="pun">:</span> <span class="pln">nios</span><span class="pun">,</span>
				<span class="pun">}</span><span class="pun">,</span> <span class="kwd">new</span><span class="pun">(</span><span class="kwd">struct</span><span class="pun">{</span><span class="pun">}</span><span class="pun">)</span><span class="pun">)</span>
				<span class="kwd">if</span> <span class="pln">ok</span> <span class="pun">{</span>
					<span class="pln">go</span> <span class="kwd">func</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
						<span class="pln">mr</span><span class="pun">.</span><span class="pln">registerChannel</span> <span class="pun">&lt;</span><span class="pun">-</span> <span class="pln">workrName</span>
					<span class="pun">}</span><span class="pun">(</span><span class="pun">)</span>
					<span class="kwd">return</span>
				<span class="pun">}</span>
			<span class="pun">}</span>

		<span class="pun">}</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span> <span class="pln">nios</span><span class="pun">,</span> <span class="pln">phase</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln">wg</span><span class="pun">.</span><span class="typ">Wait</span><span class="pun">(</span><span class="pun">)</span>
	<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Printf</span><span class="pun">(</span><span class="str">&#34;Schedule: %v phase done\n&#34;</span><span class="pun">,</span> <span class="pln">phase</span><span class="pun">)</span>
<span class="pun">}</span>
</pre>

<p>mapж–№жі•иЇ»е…Ґinputж•°жЌ®пјЊдЅїз”ЁmapFе°†ж•°жЌ®е¤„зђ†д№‹еђЋпјЊе°†е¤„зђ†еђЋзљ„ж•°жЌ®е­ењЁжЊ‡е®љзљ„дё­й—ґж–‡д»¶дё­пјЊдё­й—ґж–‡д»¶зљ„ж–‡д»¶еђЌе†іе®љж­¤ж–‡д»¶е°†з”±е“ЄдёЄreduceж‰§иЎЊгЂ‚</p>

<pre><span class="kwd">func</span> <span class="pln">doMap</span><span class="pun">(</span>
	<span class="pln">jobName</span> <span class="pln">string</span><span class="pun">,</span> <span class="com">// the name of the MapReduce job</span>
	<span class="pln">mapTaskNumber</span> <span class="kwd">int</span><span class="pun">,</span> <span class="com">// which map task this is</span>
	<span class="pln">inFile</span> <span class="pln">string</span><span class="pun">,</span>
	<span class="pln">nReduce</span> <span class="kwd">int</span><span class="pun">,</span> <span class="com">// the number of reduce task that will be run (&#34;R&#34; in the paper)</span>
	<span class="pln">mapF</span> <span class="kwd">func</span><span class="pun">(</span><span class="pln">file</span> <span class="pln">string</span><span class="pun">,</span> <span class="pln">contents</span> <span class="pln">string</span><span class="pun">)</span> <span class="pun">[</span><span class="pun">]</span><span class="typ">KeyValue</span><span class="pun">,</span>
<span class="pun">)</span> <span class="pun">{</span>
	<span class="pln">content</span><span class="pun">,</span> <span class="pln">err</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">ioutil</span><span class="pun">.</span><span class="typ">ReadFile</span><span class="pun">(</span><span class="pln">inFile</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln">err</span> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;read input file content &#34;</span><span class="pun">,</span> <span class="pln">err</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln">kvs</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">mapF</span><span class="pun">(</span><span class="pln">inFile</span><span class="pun">,</span> <span class="pln">string</span><span class="pun">(</span><span class="pln">content</span><span class="pun">)</span><span class="pun">)</span>
	<span class="pln">files</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pun">*</span><span class="pln">os</span><span class="pun">.</span><span class="typ">File</span><span class="pun">{</span><span class="pun">}</span>
	<span class="kwd">for</span> <span class="pln">i</span> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln">i</span> <span class="pun">&lt;</span> <span class="pln">nReduce</span><span class="pun">;</span> <span class="pln">i</span><span class="pun">+</span><span class="pun">+</span> <span class="pun">{</span>
		<span class="pln">fileName</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">reduceName</span><span class="pun">(</span><span class="pln">jobName</span><span class="pun">,</span> <span class="pln">mapTaskNumber</span><span class="pun">,</span> <span class="pln">i</span><span class="pun">)</span>
		<span class="pln">file</span><span class="pun">,</span> <span class="pln">err</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">Create</span><span class="pun">(</span><span class="pln">fileName</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln">err</span> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;Create File&#34;</span><span class="pun">,</span> <span class="pln">err</span><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="pln">defer</span> <span class="pln">file</span><span class="pun">.</span><span class="typ">Close</span><span class="pun">(</span><span class="pun">)</span>
		<span class="pln">files</span> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln">files</span><span class="pun">,</span> <span class="pln">file</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln">kv</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln">kvs</span> <span class="pun">{</span>
		<span class="pln">e</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">json</span><span class="pun">.</span><span class="typ">NewEncoder</span><span class="pun">(</span><span class="pln">files</span><span class="pun">[</span><span class="kwd">int</span><span class="pun">(</span><span class="pln">ihash</span><span class="pun">(</span><span class="pln">kv</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">)</span><span class="pun">)</span><span class="pun">%</span><span class="pln">nReduce</span><span class="pun">]</span><span class="pun">)</span>
		<span class="pln">e</span><span class="pun">.</span><span class="typ">Encode</span><span class="pun">(</span><span class="pun">&amp;</span><span class="pln">kv</span><span class="pun">)</span>
	<span class="pun">}</span>
<span class="pun">}</span>
</pre>

<p>reduceиЇ»еЏ–жЊ‡е®љзљ„дё­й—ґж–‡д»¶пјЊдЅїз”ЁreduceFе¤„зђ†еђЋпјЊиѕ“е‡єз»“жћњгЂ‚</p>

<pre><span class="kwd">func</span> <span class="pln">doReduce</span><span class="pun">(</span>
	<span class="pln">jobName</span> <span class="pln">string</span><span class="pun">,</span> <span class="com">// the name of the whole MapReduce job</span>
	<span class="pln">reduceTaskNumber</span> <span class="kwd">int</span><span class="pun">,</span> <span class="com">// which reduce task this is</span>
	<span class="pln">nMap</span> <span class="kwd">int</span><span class="pun">,</span> <span class="com">// the number of map tasks that were run (&#34;M&#34; in the paper)</span>
	<span class="pln">reduceF</span> <span class="kwd">func</span><span class="pun">(</span><span class="pln">key</span> <span class="pln">string</span><span class="pun">,</span> <span class="pln">values</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span> <span class="pln">string</span><span class="pun">,</span>
<span class="pun">)</span> <span class="pun">{</span>
	<span class="pln">kvMap</span> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">make</span><span class="pun">(</span><span class="kwd">map</span><span class="pun">[</span><span class="pln">string</span><span class="pun">]</span><span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span>

	<span class="com">// иЇ»еЏ–еђЊдёЂдёЄ reduce task дё‹зљ„ж‰Ђжњ‰ж–‡д»¶пјЊдїќе­и‡іе“€еёЊиЎЁ</span>
	<span class="kwd">for</span> <span class="pln">i</span> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln">i</span> <span class="pun">&lt;</span> <span class="pln">nMap</span><span class="pun">;</span> <span class="pln">i</span><span class="pun">+</span><span class="pun">+</span> <span class="pun">{</span>
		<span class="pln">filename</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">reduceName</span><span class="pun">(</span><span class="pln">jobName</span><span class="pun">,</span> <span class="pln">i</span><span class="pun">,</span> <span class="pln">reduceTaskNumber</span><span class="pun">)</span>
		<span class="pln">f</span><span class="pun">,</span> <span class="pln">err</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">Open</span><span class="pun">(</span><span class="pln">filename</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln">err</span> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;Open File Err: &#34;</span><span class="pun">,</span> <span class="pln">filename</span><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="pln">defer</span> <span class="pln">f</span><span class="pun">.</span><span class="typ">Close</span><span class="pun">(</span><span class="pun">)</span>
		<span class="pln">decoder</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">json</span><span class="pun">.</span><span class="typ">NewDecoder</span><span class="pun">(</span><span class="pln">f</span><span class="pun">)</span>
		<span class="kwd">var</span> <span class="pln">kv</span> <span class="typ">KeyValue</span>
		<span class="kwd">for</span> <span class="pln">decoder</span><span class="pun">.</span><span class="typ">More</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
			<span class="pln">err</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">decoder</span><span class="pun">.</span><span class="typ">Decode</span><span class="pun">(</span><span class="pun">&amp;</span><span class="pln">kv</span><span class="pun">)</span>
			<span class="kwd">if</span> <span class="pln">err</span> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
				<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;Json decode failed, &#34;</span><span class="pun">,</span> <span class="pln">err</span><span class="pun">)</span>
			<span class="pun">}</span>
			<span class="pln">kvMap</span><span class="pun">[</span><span class="pln">kv</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">]</span> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln">kvMap</span><span class="pun">[</span><span class="pln">kv</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">]</span><span class="pun">,</span> <span class="pln">kv</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">)</span>
		<span class="pun">}</span>
	<span class="pun">}</span>

	<span class="com">// еЇ№= nil {</span>
				<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;Json decode failed, &#34;</span><span class="pun">,</span> <span class="pln">err</span><span class="pun">)</span>
			<span class="pun">}</span>
			<span class="pln">kvMap</span><span class="pun">[</span><span class="pln">kv</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">]</span> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln">kvMap</span><span class="pun">[</span><span class="pln">kv</span><span class="pun">.</span><span class="typ">Key</span><span class="pun">]</span><span class="pun">,</span> <span class="pln">kv</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">)</span>
		<span class="pun">}</span>
	<span class="pun">}</span>

	<span class="com">// еЇ№е“€еёЊиЎЁж‰Ђжњ‰ key иї›иЎЊеЌ‡еєЏжЋ’еєЏ</span>
	<span class="pln">keys</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="pun">}</span>
	<span class="kwd">for</span> <span class="pln">k</span><span class="pun">,</span> <span class="pln">_</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln">kvMap</span> <span class="pun">{</span>
		<span class="pln">keys</span> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln">keys</span><span class="pun">,</span> <span class="pln">k</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln">sort</span><span class="pun">.</span><span class="typ">Strings</span><span class="pun">(</span><span class="pln">keys</span><span class="pun">)</span>
	<span class="pln">mergeFile</span><span class="pun">,</span> <span class="pln">err</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">Create</span><span class="pun">(</span><span class="pln">mergeName</span><span class="pun">(</span><span class="pln">jobName</span><span class="pun">,</span> <span class="pln">reduceTaskNumber</span><span class="pun">)</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln">err</span> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;Create Merge File Err: &#34;</span><span class="pun">,</span> <span class="pln">err</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln">defer</span> <span class="pln">mergeFile</span><span class="pun">.</span><span class="typ">Close</span><span class="pun">(</span><span class="pun">)</span>
	<span class="pln">encoder</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">json</span><span class="pun">.</span><span class="typ">NewEncoder</span><span class="pun">(</span><span class="pln">mergeFile</span><span class="pun">)</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln">k</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln">keys</span> <span class="pun">{</span>
		<span class="pln">encoder</span><span class="pun">.</span><span class="typ">Encode</span><span class="pun">(</span><span class="typ">KeyValue</span><span class="pun">{</span><span class="pln">k</span><span class="pun">,</span> <span class="pln">reduceF</span><span class="pun">(</span><span class="pln">k</span><span class="pun">,</span> <span class="pln">kvMap</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]</span><span class="pun">)</span><span class="pun">}</span><span class="pun">)</span>
	<span class="pun">}</span>
<span class="pun">}</span>
</pre>

<p>(иЇѕзЁ‹),<a href="е®ћйЄЊзљ„д»Јз Ѓ">https://github.com/qwendy/Distributed-Systems/tree/master/Lec01_Introduction</a>[<a href="https://github.com/qwendy/Distributed-Systems/tree/master/6.824/src/mapreduce">https://github.com/qwendy/Distributed-Systems/tree/master/6.824/src/mapreduce</a>]</p>

                </div>
                <a class="ui large button" href="/2017/06/28/lec01%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0">Read More</a>
                <h4 class="ui horizontal header divider">
                    <a href="#">иї™жЇе€†з•Њзєїе“¦~~</a>
                </h4>
                
                <h3 class="ui header">mongoж•°жЌ®еє“shardingе­¦д№ и®°еЅ•</h3>
                <div class="postContent">
                    <p>еЏ‚иЂѓж–‡з« пјљ<a href="http://www.runoob.com/mongodb/mongodb-sharding.html">http://www.runoob.com/mongodb/mongodb-sharding.html</a></p>

<p>windowsзі»з»џгЂ‚mongo3.2з‰€жњ¬</p>

<p>е»єз«‹з›®еЅ•s0,s1,log,config</p>

<p>ж­ҐйЄ¤дёЂпјљеђЇеЉЁShard Server</p>

<pre><code>.\bin\mongod.exe --port 27100 --dbpath=.\mongos\s0 --logpath=.\mongos\log\s0.log --logappend --journal --storageEngine=mmapv1 --shardsvr

.\bin\mongod.exe --port 27101 --dbpath=.\mongos\s1 --logpath=.\mongos\log\s1.log --logappend --journal --storageEngine=mmapv1 --shardsvr
</code></pre>

<p>ж­ҐйЄ¤дєЊпјљ еђЇеЉЁConfig Server</p>

<pre><code>.\bin\mongod.exe --port 27200 --dbpath=.\mongos\config --logpath=.\mongos\log\config.log --logappend --journal --storageEngine=mmapv1 --configsvr
</code></pre>

<p>ж­ҐйЄ¤дё‰пјљ еђЇеЉЁRoute Process</p>

<pre><code>.\bin\mongos.exe --port 40000 --configdb localhost:27200  --logpath=.\mongos\log\router.log --chunkSize 1
</code></pre>

<p>жіЁж„Џ:
1. ж€‘иї™й‡ЊдёЌеЉ вЂ“configsvrе°±е‡єзЋ°Surprised to discover that localhost:27200 does not believe it is a config serverй”™иЇЇгЂ‚
2. chunkSizeе¤Єе¤§зљ„иЇќпјЊдјљеЇји‡ґжЏ’е…Ґеѕ€е¤љеѕ€е¤љж•°жЌ®еђЋж‰Ќе€†з‰‡гЂ‚дёЂејЂе§‹жІЎжіЁж„ЏпјЊд»Ґдёєи®ѕзЅ®й”™иЇЇжІЎжњ‰е€†з‰‡гЂ‚гЂ‚гЂ‚chunkSizeд»ҐMдёєеЌ•дЅЌгЂ‚</p>

<p>ж­ҐйЄ¤е››пјљ й…ЌзЅ®Sharding</p>

<ul>
<li><p>иїћжЋҐи·Їз”±жњЌеЉЎе™Ё</p>

<pre><code>.\bin\mongo.exe admin --port 40000
</code></pre></li>

<li><p>и®ѕзЅ®е€†з‰‡жњЌеЉЎе™Ё</p>

<pre><code>db.runCommand({ addshard:&#34;127.0.0.1:27100&#34; })
db.runCommand({ addshard:&#34;127.0.0.1:27101&#34; })
db.runCommand({ addshard:&#34;127.0.0.1:40000&#34; })
ж€–иЂ…
sh.addShard(&#34;127.0.0.1:27100&#34;)
</code></pre></li>

<li><p>и®ѕзЅ®и¦Ѓе€†з‰‡зљ„ж•°жЌ®еє“</p>

<pre><code>db.runCommand({ enablesharding:&#34;qdgame&#34; })
ж€–иЂ…пјљ
sh.enableSharding(&#34;qdgame&#34;)
</code></pre></li>

<li><p>е…ій—­balancing</p>

<pre><code>sh.disableBalancing(&#34;qdgame.backpack&#34;)
</code></pre></li>

<li><p>и®ѕзЅ®е€†з‰‡collectionзљ„index</p>

<pre><code>use qdgame
db.backpack.ensureIndex({usrid:1,id:1})
</code></pre></li>

<li><p>и®ѕзЅ®и¦Ѓе€†з‰‡зљ„collection</p>

<pre><code>db.runCommand({ shardcollection: &#34;qdgame.backpack&#34;, key: { usrid:1, id:1}})
ж€–иЂ…
sh.shardCollection(&#34;qdgame.backpack&#34;,{usrid:1, id:1})
</code></pre></li>

<li><p>ејЂеђЇbalancing</p>

<pre><code>sh.enableBalancing(&#34;qdgame.backpack&#34;)
</code></pre></li>
</ul>

<p>жіЁж„Џпјљи®ѕзЅ®дёЂе®љи¦ЃењЁadminж•°жЌ®еє“дё‹гЂ‚
e.backpackвЂќ,{usrid:1, id:1})</p>

<pre><code>
- ејЂеђЇbalancing
</code></pre>

<p>sh.enableBalancing(вЂњqdgame.backpackвЂќ)
```</p>

<p>жіЁж„Џпјљи®ѕзЅ®дёЂе®љи¦ЃењЁadminж•°жЌ®еє“дё‹гЂ‚</p>

                </div>
                <a class="ui large button" href="/2016/12/09/mongo%e6%95%b0%e6%8d%ae%e5%ba%93sharding%e5%ad%a6%e4%b9%a0%e8%ae%b0%e5%bd%95">Read More</a>
                <h4 class="ui horizontal header divider">
                    <a href="#">иї™жЇе€†з•Њзєїе“¦~~</a>
                </h4>
                
                <h3 class="ui header">еЇ’иЎ«жµ®жў¦-ж­ЊиЇЌ</h3>
                <div class="postContent">
                    <h1>еЇ’иЎ«жµ®жў¦</h1>

<p>з¬”иђЅд№¦еЌ·еЌЉ</p>

<p>з»†е‘·жё©й…’зєёеўЁй¦™</p>

<p>иї№з—•жЅ¦жЅ¦ иЃ†йЈЋж—–ж—Ћ</p>

<p>з”»жµ®з”џдёЂзєёж°ґйќ’ жњЄе№І</p>

<p>еїµиЅ¬е‡Њйњ„жќѓ</p>

<p>еѕЎз¬”дёЌз‚№еЇ’з™ЅиЎ«</p>

<p>ж‹‚иў–жІіе±± зєµз¬”ж±џе·ќ</p>

<p>иµ‹ж­¤й—ґдёЂжЉ№дё№з ‚ жё…з‹‚</p>

<p>е…°дє­иў…иў…е…Ґе‡Ўе°</p>

<p>иЎЊд№¦д»Ґй‰ґеЅ“зђјжњ€</p>

<p>й”‹жЇ«е†Ѕе†ЅжЏђе®«й™</p>

<p>з™Ѕз»ўдёєзє¦дјЉдєєе†і</p>

<p>и‹Ќйёџж‰¶д№‹йќ’дє‘е…®</p>

<p>йќ’е†ўжљ®иЂЊдѕќе€«з¦»</p>

<p>зѕЃй№°еќ зѕЅеЇ»иЉње…®</p>

<p>е°Ѓз¬”жІ‰жІ™д»ҐдјґжёєеЁ‰</p>

<p>дјЏжЎ€еЂѕж—§еЌ·</p>

<p>жЃЌи‹Ґе…Ґжў¦зђґз‘џе©‰</p>

<p>е°дё­еЌѓеЏ№ дЅ•дєєиЇ­е Є</p>

<p>жѓџдЅњдёЂд»‹еЇ’иЎ«ж—§ иЅ»еЏ©</p>

<p>жё…е†Ѕй…’еќ›ж•Ј</p>

<p>дёЂжў¦жѓЉдё–й•їе®‰д»™</p>

<p>жµ…еђџиЅ»е”± еЇ№й”™дЅ•е¦Ё</p>

<p>е”Їи®°дёЂз‚№иЌ§е…‰йќ’ еѕ®е‡‰</p>

<p>е…°дє­иў…иў…е…Ґе‡Ўе°</p>

<p>иЎЊд№¦д»Ґй‰ґеЅ“зђјжњ€</p>

<p>й”‹жЇ«е†Ѕе†ЅжЏђе®«й™</p>

<p>з™Ѕз»ўдёєзє¦дјЉдєєе†і</p>

<p>и‹Ќйёџж‰¶д№‹йќ’дє‘е…®</p>

<p>йќ’е†ўжљ®иЂЊдѕќе€«з¦»</p>

<p>зѕЃй№°еќ зѕЅеЇ»иЉње…®</p>

<p>е°Ѓз¬”жІ‰жІ™д»ҐдјґеЁ‰е©·</p>

<p>жёљж±џжё…жё…ж›ізєёиЋІ</p>

<p>д»ҐеЇ„е¤©ж–№е§ќж—§иї</p>

<p>з‡•и°·иЅ»иЅ»ж‹™иЌ†е”¤</p>

<p>дј д»Ґд№ќе№ЅдЅ•е›ћиЌЎ</p>

<p>еЂ¦зњ‰и№™д№‹з»€еЌ—е…®</p>

<p>йЈЋеЉЁзЋІеїѓиЂЊж„Ѓеї†</p>

<p>ж‚ґй¬“дёЌи§‰зјѓзґ е…®</p>

<p>жІ§е±±ж ж°ґжµЃе№ґдЅ•еї…</p>

<p>з»€дёЌи§Ѓи›ѕзњ‰иЅ»и€ћйњ“иЈі жµЃиў–зї©и·№…®</p>

<p>йЈЋеЉЁзЋІеїѓиЂЊж„Ѓеї†</p>

<p>ж‚ґй¬“дёЌи§‰зјѓзґ е…®</p>

<p>жІ§е±±ж ж°ґжµЃе№ґдЅ•еї…</p>

<p>з»€дёЌи§Ѓи›ѕзњ‰иЅ»и€ћйњ“иЈі жµЃиў–зї©и·№</p>

                </div>
                <a class="ui large button" href="/2016/12/26/%e5%af%92%e8%a1%ab%e6%b5%ae%e6%a2%a6-%e6%ad%8c%e8%af%8d">Read More</a>
                <h4 class="ui horizontal header divider">
                    <a href="#">иї™жЇе€†з•Њзєїе“¦~~</a>
                </h4>
                
                <h3 class="ui header">гЂЉGoиЇ­иЁЂењЈз»ЏгЂ‹е­¦д№ е°Џи®°пј€1пј‰</h3>
                <div class="postContent">
                    <p>и®°еЅ•гЂЉGoиЇ­иЁЂењЈз»ЏгЂ‹е­¦д№ з¬”и®°гЂ‚пј€е®ћдёєе€’й‡Ќз‚№пј‰</p>

<p>йЎєеєЏйЂљдїЎиї›зЁ‹ пј€ communicating sequential processes пјЊзј©е†™дёєCSPпј‰гЂ‚ењЁCSPдё­пјЊзЁ‹еєЏжЇдёЂз»„дё­й—ґжІЎжњ‰е…±дє«зЉ¶жЂЃзљ„е№іиЎЊиїђиЎЊзљ„е¤„зђ†иї‡зЁ‹пјЊе®ѓд»¬д№‹й—ґдЅїз”Ёз®ЎйЃ“иї›иЎЊйЂљдїЎе’ЊжЋ§е€¶еђЊж­ҐгЂ‚
GoиЇ­иЁЂзљ„е®ж–№еЌље®ў <a href="https://blog.golang.org">https://blog.golang.org</a> дјљдёЌе®љжњџеЏ‘еёѓдёЂдє›GoиЇ­иЁЂжњЂеҐЅзљ„е®ћи·µж–‡з« пјЊеЊ…ж‹¬еЅ“е‰ЌиЇ­иЁЂзљ„еЏ‘е±•зЉ¶жЂЃгЂЃжњЄжќҐ зљ„и®Ўе€’гЂЃдјљи®®жЉҐе‘Ље’ЊGoиЇ­иЁЂз›ёе…ізљ„еђ„з§Ќдјљи®®зљ„дё»йўз­‰дїЎжЃЇпј€иЇ‘жіЁпјљ <a href="http://talks.golang.org/">http://talks.golang.org/</a> еЊ…еђ«дє† е®ж–№ж”¶еЅ•зљ„еђ„з§ЌжЉҐе‘Љзљ„и®ІзЁїпј‰гЂ‚
<!-- more --></p>

<h3>з¬¬дёЂз«  е…Ґй—Ё</h3>

<p>еЇ№mapиї›иЎЊrangeеѕЄзЋЇж—¶пјЊе…¶иї­д»ЈйЎєеєЏжЇдёЌзЎ®е®љзљ„пјЊд»Ће®ћи·µжќҐзњ‹пјЊеѕ€еЏЇиѓЅжЇЏж¬ЎиїђиЎЊйѓЅдјљжњ‰дёЌдёЂж ·зљ„з»“жћњпј€иЇ‘жіЁпјљиї™жЇGoиЇ­иЁЂзљ„и®ѕи®ЎиЂ…жњ‰ж„Џдёєд№‹зљ„пјЊе› дёєе…¶еє•е±‚е®ћзЋ°дёЌдїќиЇЃжЏ’е…ҐйЎєеєЏе’ЊйЃЌеЋ†йЎєеєЏдёЂи‡ґпјЊд№џеёЊжњ›зЁ‹еєЏе‘дёЌи¦Ѓдѕќиµ–йЃЌеЋ†ж—¶зљ„йЎєеєЏпјЊж‰Ђд»Ґе№Іи„†з›ґжЋҐењЁйЃЌеЋ†зљ„ж—¶еЂ™еЃљдє†йљЏжњєеЊ–е¤„зђ†пјЊй†‰дє†гЂ‚иЎҐе……пјљеҐЅеѓЏиЇґйљЏжњєеєЏеЏЇд»ҐйІж­ўжџђз§Ќз±»ећ‹зљ„ж”»е‡»пјЊи™Ѕз„¶дёЌе¤ЄжЋз™ЅпјЊдЅ†жЇж„џи§‰иїи›®еЋ‰е®ізљ„пј‰пјЊжќҐйЃїе…ЌзЁ‹еєЏе‘ењЁдёљеЉЎдё­дѕќиµ–йЃЌеЋ†ж—¶зљ„йЎєеєЏгЂ‚
mapжЇз”Ёmakeе‡Ѕж•°е€›е»єзљ„ж•°жЌ®з»“жћ„зљ„дёЂдёЄ<strong>еј•з”Ё</strong>гЂ‚еЅ“дёЂдёЄmapиў«дЅњдёєеЏ‚ж•°дј йЂ’з»™дёЂдёЄе‡Ѕж•°ж—¶пјЊе‡Ѕж•°жЋҐж”¶е€°зљ„жЇдёЂд»Ѕ<strong>еј•з”Ёзљ„ж‹·иґќ</strong>пјЊи™Ѕз„¶жњ¬иє«е№¶дёЌжЇдёЂдёЄдёњиҐїпјЊдЅ†е› дёєд»–д»¬жЊ‡еђ‘зљ„жЇеђЊдёЂеќ—ж•°жЌ®еЇ№и±Ўпј€иЇ‘жіЁпјљз±»дјјдєЋC++й‡Њзљ„еј•з”Ёдј йЂ’пјЊе®ћй™…дёЉжЊ‡й’€жЇеЏ¦дёЂдёЄжЊ‡й’€дє†пјЊдЅ†е†…йѓЁе­зљ„еЂјжЊ‡еђ‘еђЊдёЂеќ—е†…е­пј‰пјЊж‰Ђд»ҐдЅ ењЁе‡Ѕж•°й‡ЊеЇ№mapй‡Њзљ„еЂјиї›иЎЊдї®ж”№ж—¶пјЊеЋџе§‹зљ„mapе†…зљ„еЂјд№џдјљж”№еЏгЂ‚</p>

<h3>з¬¬дєЊз«  зЁ‹еєЏз»“жћ„</h3>

<p>е¦‚жћње€ќе§‹еЊ–иЎЁиѕѕејЏиў«зњЃз•ҐпјЊй‚Јд№€е°†з”Ёй›¶еЂје€ќе§‹еЊ–иЇҐеЏй‡ЏгЂ‚ ж•°еЂјз±»ећ‹еЏй‡ЏеЇ№еє”зљ„й›¶еЂјжЇ0пјЊеёѓе°”з±»ећ‹еЏй‡ЏеЇ№еє”зљ„й›¶еЂјжЇfalseпјЊе­—з¬¦дёІз±»ећ‹еЇ№еє”зљ„й›¶еЂјжЇз©єе­—з¬¦дёІпјЊжЋҐеЏЈж€–еј•з”Ёз±»ећ‹пј€еЊ…ж‹¬sliceгЂЃmapгЂЃchanе’Ње‡Ѕж•°пј‰еЏй‡ЏеЇ№еє”зљ„й›¶еЂјжЇnilгЂ‚ж•°з»„ж€–з»“жћ„дЅ“з­‰иЃљеђ€з±»ећ‹еЇ№еє”зљ„й›¶еЂјжЇжЇЏдёЄе…ѓзґ ж€–е­—ж®µйѓЅжЇеЇ№еє”иЇҐз±»ећ‹зљ„й›¶еЂјгЂ‚
varеЅўејЏзљ„еЈ°жЋиЇ­еЏҐеѕЂеѕЂжЇз”ЁдєЋйњЂи¦ЃжѕејЏжЊ‡е®љеЏй‡Џз±»ећ‹ењ°ж–№пјЊж€–иЂ…е› дёєеЏй‡ЏзЁЌеђЋдјљиў«й‡Ќж–°иµ‹еЂјиЂЊе€ќе§‹еЂјж— е…ізґ§и¦Ѓзљ„ењ°ж–№гЂ‚
д»»дЅ•з±»ећ‹зљ„жЊ‡й’€зљ„й›¶еЂјйѓЅжЇnilгЂ‚гЂ‚е¦‚жћњp != nilжµ‹иЇ•дёєзњџпјЊй‚Јд№€pжЇжЊ‡еђ‘жџђдёЄжњ‰ж•€еЏй‡ЏгЂ‚жЊ‡й’€д№‹й—ґд№џжЇеЏЇд»Ґиї›иЎЊз›ёз­‰жµ‹иЇ•зљ„пјЊеЏЄжњ‰еЅ“е®ѓд»¬жЊ‡еђ‘еђЊдёЂдёЄеЏй‡Џж€–е…ЁйѓЁжЇnilж—¶ж‰Ќз›ёз­‰гЂ‚
жЇЏж¬Ўи°ѓз”Ёnewе‡Ѕж•°йѓЅжЇиї”е›ћдёЂдёЄж–°зљ„еЏй‡Џзљ„ењ°еќЂпјЊеЅ“з„¶д№џеЏЇиѓЅжњ‰з‰№ж®Љжѓ…е†µпјље¦‚жћњдё¤дёЄз±»ећ‹йѓЅжЇз©єзљ„пјЊд№џе°±жЇиЇґз±»ећ‹зљ„е¤§е°ЏжЇ0пјЊдѕ‹е¦‚struct{}е’Њ [0]int,жњ‰еЏЇиѓЅжњ‰з›ёеђЊзљ„ењ°еќЂпј€дѕќиµ–е…·дЅ“зљ„иЇ­иЁЂе®ћзЋ°пј‰пј€иЇ‘жіЁпјљиЇ·и°Ёж…ЋдЅїз”Ёе¤§е°Џдёє0зљ„з±»ећ‹пјЊе› дёєе¦‚жћњз±»ећ‹зљ„е¤§е°Џдёє0зљ„иЇќпјЊеЏЇиѓЅеЇји‡ґGoиЇ­иЁЂзљ„и‡ЄеЉЁећѓењѕе›ћж”¶е™Ёжњ‰дёЌеђЊзљ„иЎЊдёєпјЊе…·дЅ“иЇ·жџҐзњ‹runtime.SetFinalizerе‡Ѕж•°з›ёе…іж–‡жЎЈпј‰гЂ‚</p>

<h3>з¬¬дё‰з«  еџєзЎЂж•°жЌ®з±»ећ‹</h3>

<p>дёЂдёЄе­—з¬¦дёІжЇдёЂдёЄдёЌеЏЇж”№еЏзљ„е­—иЉ‚еєЏе€—гЂ‚е†…зЅ®зљ„lenе‡Ѕж•°еЏЇд»Ґиї”е›ћдёЂдёЄе­—з¬¦дёІдё­зљ„е­—иЉ‚ж•°з›®пј€дёЌжЇruneе­—з¬¦ж•°з›®пј‰пјЊзґўеј•ж“ЌдЅњs[i]иї”е›ћз¬¬iдёЄе­—иЉ‚зљ„е­—иЉ‚еЂјпјЊiеї…йЎ»ж»Ўи¶і0 в‰¤ i&lt; len(s)жќЎд»¶зє¦жќџгЂ‚е­—з¬¦дёІзљ„еЂјжЇдёЌеЏЇеЏзљ„пјљдёЂдёЄе­—з¬¦дёІеЊ…еђ«зљ„е­—иЉ‚еєЏе€—ж°ёиїњдёЌдјљиў«ж”№еЏпјЊеЅ“з„¶ж€‘д»¬д№џеЏЇд»Ґз»™дёЂдёЄе­—з¬¦дёІеЏй‡Џе€†й…ЌдёЂдёЄж–°е­—з¬¦дёІеЂјгЂ‚еЏЇд»ҐеѓЏдё‹йќўиї™ж ·е°†дёЂдёЄе­—з¬¦дёІиїЅеЉ е€°еЏ¦дёЂдёЄе­—з¬¦дёІпјљ</p>

<pre><span class="pln">s</span> <span class="pun">:</span><span class="pun">=</span> <span class="str">&#34;left foot&#34;</span>
<span class="pln">t</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">s</span>
<span class="pln">s</span> <span class="pun">+</span><span class="pun">=</span> <span class="str">&#34;, right foot&#34;</span>
</pre>

<p>иї™е№¶дёЌдјљеЇји‡ґеЋџе§‹зљ„е­—з¬¦дёІеЂјиў«ж”№еЏпјЊдЅ†жЇеЏй‡Џsе°†е› дёє+=иЇ­еЏҐжЊЃжњ‰дёЂдёЄж–°зљ„е­—з¬¦дёІеЂјпјЊдЅ†жЇtдѕќз„¶жЇеЊ…еђ«еЋџе…€зљ„е­—з¬¦дёІеЂјгЂ‚
GoиЇ­иЁЂзљ„еёёй‡Џжњ‰дёЄдёЌеђЊеЇ»еёёд№‹е¤„гЂ‚и™Ѕз„¶дёЂдёЄеёёй‡ЏеЏЇд»Ґжњ‰д»»ж„Џжњ‰дёЂдёЄзЎ®е®љзљ„еџєзЎЂз±»ећ‹пјЊдѕ‹е¦‚intж€–float64пјЊж€–иЂ…жЇз±»дјјtime.Durationиї™ж ·е‘ЅеђЌзљ„еџєзЎЂз±»ећ‹пјЊдЅ†жЇи®ёе¤љеёёй‡Џе№¶жІЎжњ‰дёЂдёЄжЋзЎ®зљ„еџєзЎЂз±»ећ‹гЂ‚зј–иЇ‘е™Ёдёєиї™дє›жІЎжњ‰жЋзЎ®зљ„еџєзЎЂз±»ежЇз±»дјјtime.Durationиї™ж ·е‘ЅеђЌзљ„еџєзЎЂз±»ећ‹пјЊдЅ†жЇи®ёе¤љеёёй‡Џе№¶жІЎжњ‰дёЂдёЄжЋзЎ®зљ„еџєзЎЂз±»ећ‹гЂ‚зј–иЇ‘е™Ёдёєиї™дє›жІЎжњ‰жЋзЎ®зљ„еџєзЎЂз±»ећ‹зљ„ж•°е­—еёёй‡ЏжЏђдѕ›жЇ”еџєзЎЂз±»ећ‹ж›ґй«зІѕеє¦зљ„з®—жњЇиїђз®—гЂ‚
ж— з±»ећ‹зљ„еёёй‡ЏдёЌд»…еЏЇд»ҐжЏђдѕ›ж›ґй«зљ„иїђз®—зІѕеє¦пјЊиЂЊдё”еЏЇд»Ґз›ґжЋҐз”ЁдєЋж›ґе¤љзљ„иЎЁиѕѕејЏиЂЊдёЌйњЂи¦ЃжѕејЏзљ„з±»ећ‹иЅ¬жЌўгЂ‚
дѕ‹е¦‚mathеЊ…дё­зљ„Piеёёй‡Џпјљ</p>

<pre>	<span class="typ">Pi</span>  <span class="pun">=</span> <span class="dec">3.14159265358979323846264338327950288419716939937510582097494459</span> <span class="com">//http://oeis.org/A000796</span>
</pre>

<h3>з¬¬е››з«  з¬¦еђ€ж•°жЌ®з±»ећ‹</h3>

<h4>ж•°з»„</h4>

<p>ењЁж•°з»„е­—йќўеЂјдё­пјЊе¦‚жћњењЁж•°з»„зљ„й•їеє¦дЅЌзЅ®е‡єзЋ°зљ„жЇвЂњвЂ¦вЂќзњЃз•ҐеЏ·пјЊе€™иЎЁз¤єж•°з»„зљ„й•їеє¦жЇж №жЌ®е€ќе§‹еЊ–еЂјзљ„дёЄж•°жќҐи®Ўз®—гЂ‚ж•°з»„зљ„й•їеє¦еї…йЎ»жЇеёёй‡ЏиЎЁиѕѕејЏпјЊе› дёєж•°з»„зљ„й•їеє¦йњЂи¦ЃењЁзј–иЇ‘й¶ж®µзЎ®е®љгЂ‚</p>

<pre><span class="pln">q</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">{</span><span class="dec">1</span><span class="pun">,</span> <span class="dec">2</span><span class="pun">,</span> <span class="dec">3</span><span class="pun">}</span>
<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Printf</span><span class="pun">(</span><span class="str">&#34;%T\n&#34;</span><span class="pun">,</span> <span class="pln">q</span><span class="pun">)</span> <span class="com">// &#34;[3]int&#34;</span>
</pre>

<p>д№џеЏЇд»ҐжЊ‡е®љдёЂдёЄзґўеј•е’ЊеЇ№еє”еЂје€—иЎЁзљ„ж–№ејЏе€ќе§‹еЊ–пјЊе°±еѓЏдё‹йќўиї™ж ·пјљ</p>

<pre><span class="kwd">type</span> <span class="typ">Currency</span> <span class="kwd">int</span>

<span class="kwd">const</span> <span class="pun">(</span>
	<span class="typ">USD</span> <span class="typ">Currency</span> <span class="pun">=</span> <span class="pln">iota</span> <span class="com">// зѕЋе…ѓ</span>
	<span class="typ">EUR</span>                 <span class="com">// ж¬§е…ѓ</span>
	<span class="typ">GBP</span>                 <span class="com">// и‹±й•‘</span>
	<span class="typ">RMB</span>                 <span class="com">// дєєж°‘еёЃ</span>
<span class="pun">)</span>
<span class="pln">symbol</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="typ">USD</span><span class="pun">:</span> <span class="str">&#34;$&#34;</span><span class="pun">,</span> <span class="typ">EUR</span><span class="pun">:</span> <span class="str">&#34;в‚¬&#34;</span><span class="pun">,</span> <span class="typ">GBP</span><span class="pun">:</span> <span class="str">&#34;пїЎ&#34;</span><span class="pun">,</span> <span class="typ">RMB</span><span class="pun">:</span> <span class="str">&#34;пїҐ&#34;</span><span class="pun">}</span>
<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Println</span><span class="pun">(</span><span class="typ">RMB</span><span class="pun">,</span> <span class="pln">symbol</span><span class="pun">[</span><span class="typ">RMB</span><span class="pun">]</span><span class="pun">)</span> <span class="com">// &#34;3 пїҐ&#34;</span>
</pre>

<p>е¦‚жћњдёЂдёЄж•°з»„зљ„е…ѓзґ з±»ећ‹жЇеЏЇд»Ґз›ёдє’жЇ”иѕѓзљ„пјЊй‚Јд№€ж•°з»„з±»ећ‹д№џжЇеЏЇд»Ґз›ёдє’жЇ”иѕѓзљ„пјЊиї™ж—¶еЂ™ж€‘д»¬еЏЇд»Ґз›ґжЋҐйЂљиї‡==жЇ”иѕѓиїђз®—з¬¦жќҐжЇ”иѕѓдё¤дёЄж•°з»„пјЊеЏЄжњ‰еЅ“дё¤дёЄж•°з»„зљ„ж‰Ђжњ‰е…ѓзґ йѓЅжЇз›ёз­‰зљ„ж—¶еЂ™ж•°з»„ж‰ЌжЇз›ёз­‰зљ„гЂ‚дёЌз›ёз­‰жЇ”иѕѓиїђз®—з¬¦!=йЃµеѕЄеђЊж ·зљ„и§„е€™гЂ‚(ж–©йЈЋжіЁ: иї™й‡Њзљ„жЇ”иѕѓд»…жЊ‡з›ёз­‰е’ЊдёЌз­‰гЂ‚<strong>е¤§дєЋе°ЏдєЋдёЌеЊ…еђ«ењЁж­¤з±»</strong>пјЊ<strong>ж•°з»„й•їеє¦з±»ећ‹еї…йЎ»з›ёеђЊ</strong>)</p>

<pre><span class="pln">a</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="dec">2</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">{</span><span class="dec">1</span><span class="pun">,</span> <span class="dec">2</span><span class="pun">}</span>
<span class="pln">b</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">{</span><span class="dec">1</span><span class="pun">,</span> <span class="dec">2</span><span class="pun">}</span>
<span class="pln">c</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="dec">2</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">{</span><span class="dec">1</span><span class="pun">,</span> <span class="dec">3</span><span class="pun">}</span>
<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Println</span><span class="pun">(</span><span class="pln">a</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">b</span><span class="pun">,</span> <span class="pln">a</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">c</span><span class="pun">,</span> <span class="pln">b</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">c</span><span class="pun">)</span> <span class="com">// &#34;true false false&#34;</span>
<span class="pln">d</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="dec">3</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">{</span><span class="dec">1</span><span class="pun">,</span> <span class="dec">2</span><span class="pun">}</span>
<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Println</span><span class="pun">(</span><span class="pln">a</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">d</span><span class="pun">)</span> <span class="com">// compile error: cannot compare [2]int == [3]int</span>
</pre>

<h4>slice</h4>

<p>дёЂдёЄsliceжЇдёЂдёЄиЅ»й‡Џзє§зљ„ж•°жЌ®з»“жћ„пјЊжЏђдѕ›дє†и®їй—®ж•°з»„е­ђеєЏе€—пј€ж€–иЂ…е…ЁйѓЁпј‰е…ѓзґ зљ„еЉџиѓЅпјЊиЂЊдё”sliceзљ„еє•е±‚зЎ®е®ћеј•з”ЁдёЂдёЄж•°з»„еЇ№и±ЎгЂ‚дёЂдёЄsliceз”±дё‰дёЄйѓЁе€†жћ„ж€ђпјљжЊ‡й’€гЂЃй•їеє¦е’Ње®№й‡ЏгЂ‚жЊ‡й’€жЊ‡еђ‘з¬¬дёЂдёЄsliceе…ѓзґ еЇ№еє”зљ„еє•е±‚ж•°з»„е…ѓзґ зљ„ењ°еќЂпјЊи¦ЃжіЁж„Џзљ„жЇsliceзљ„з¬¬дёЂдёЄе…ѓзґ е№¶дёЌдёЂе®ље°±жЇж•°з»„зљ„з¬¬дёЂдёЄе…ѓзґ гЂ‚пј€ж–©йЈЋжіЁпјљsliceеЏЇиѓЅжЇж•°з»„зљ„дё­й—ґйѓЁе€†гЂ‚пј‰й•їеє¦еЇ№еє”sliceдё­е…ѓзґ зљ„ж•°з›®пј›й•їеє¦дёЌиѓЅи¶…иї‡е®№й‡ЏпјЊе®№й‡ЏдёЂи€¬жЇд»Ћsliceзљ„ејЂе§‹дЅЌзЅ®е€°еє•е±‚ж•°жЌ®зљ„з»“е°ѕдЅЌзЅ®гЂ‚е†…зЅ®зљ„lenе’Њcapе‡Ѕж•°е€†е€«иї”е›ћsliceзљ„й•їеє¦е’Ње®№й‡ЏгЂ‚
е¤Ќе€¶дёЂдёЄsliceеЏЄжЇеЇ№еє•е±‚зљ„ж•°з»„е€›е»єдє†дёЂдёЄж–°зљ„sliceе€«еђЌгЂ‚
е’Њж•°з»„дёЌеђЊзљ„жЇпјЊsliceд№‹й—ґдёЌиѓЅжЇ”иѕѓпјЊе› ж­¤ж€‘д»¬дёЌиѓЅдЅїз”Ё==ж“ЌдЅњз¬¦жќҐе€¤ж–­дё¤дёЄsliceжЇеђ¦еђ«жњ‰е…ЁйѓЁз›ёз­‰е…ѓзґ гЂ‚дёЌиї‡ж ‡е‡†еє“жЏђдѕ›дє†й«еє¦дјеЊ–зљ„bytes.Equalе‡Ѕж•°жќҐе€¤ж–­дё¤дёЄе­—иЉ‚ећ‹sliceжЇеђ¦з›ёз­‰пј€[]byteпј‰пјЊдЅ†жЇеЇ№дєЋе…¶д»–з±»ећ‹зљ„sliceпјЊж€‘д»¬еї…йЎ»и‡Єе·±е±•ејЂжЇЏдёЄе…ѓзґ иї›иЎЊжЇ”иѕѓгЂ‚
дёЂдёЄй›¶еЂјзљ„sliceз­‰дєЋnilгЂ‚дёЂдёЄnilеЂјзљ„sliceе№¶жІЎжњ‰еє•е±‚ж•°з»„гЂ‚дёЂдёЄnilеЂјзљ„sliceзљ„й•їеє¦е’Ње®№й‡ЏйѓЅжЇ0пјЊдЅ†жЇд№џжњ‰йќћnilеЂјзљ„sliceзљ„й•їеє¦е’Ње®№й‡Џд№џжЇ0зљ„пјЊдѕ‹е¦‚[]int{}ж€–make([]int, 3)[3:]гЂ‚дёЋд»»ж„Џз±»ећ‹зљ„nilеЂјдёЂж ·пјЊж€‘д»¬еЏЇд»Ґз”Ё[]int(nil)з±»ећ‹иЅ¬жЌўиЎЁиѕѕејЏжќҐз”џж€ђдёЂдёЄеЇ№еє”з±»ећ‹sliceзљ„nilеЂјгЂ‚</p>

<pre><span class="kwd">var</span> <span class="pln">s</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">int</span>    <span class="com">// len(s) == 0, s == nil</span>
<span class="pln">s</span> <span class="pun">=</span> <span class="kwd">nil</span>        <span class="com">// len(s) == 0, s == nil</span>
<span class="pln">s</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">(</span><span class="kwd">nil</span><span class="pun">)</span> <span class="com">// len(s) == 0, s == nil</span>
<span class="pln">s</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">{</span><span class="pun">}</span>    <span class="com">// len(s) == 0, s != nil</span>
</pre>

<p>е¦‚жћњдЅ йњЂи¦Ѓжµ‹иЇ•дёЂдёЄsliceжЇеђ¦жЇз©єзљ„пјЊдЅїз”Ёlen(s) == 0жќҐе€¤ж–­пјЊиЂЊдёЌеє”иЇҐз”Ёs == nilжќҐе€¤ж–­гЂ‚
е†…зЅ®зљ„appendе‡Ѕж•°еЏЇиѓЅдЅїз”ЁжЇ”appendIntж›ґе¤Ќжќ‚зљ„е†…е­ж‰©е±•з­–з•ҐгЂ‚е› ж­¤пјЊйЂљеёёж€‘д»¬е№¶дёЌзџҐйЃ“appendи°ѓз”ЁжЇеђ¦еЇји‡ґдє†е†…е­зљ„й‡Ќж–°е€†й…ЌпјЊе› ж­¤ж€‘д»¬д№џдёЌиѓЅзЎ®и®¤ж–°зљ„sliceе’ЊеЋџе§‹зљ„sliceжЇеђ¦еј•з”Ёзљ„жЇз›ёеђЊзљ„еє•е±‚ж•°з»„з©єй—ґгЂ‚еђЊж ·пјЊж€‘д»¬дёЌиѓЅзЎ®и®¤ењЁеЋџе…€зљ„sliceдёЉзљ„ж“ЌдЅњжЇеђ¦дјљеЅ±е“Ќе€°ж–°зљ„sliceгЂ‚е› ж­¤пјЊйЂљеёёжЇе°†appendиї”е›ћзљ„з»“жћњз›ґжЋҐиµ‹еЂјз»™иѕ“е…Ґзљ„sliceеЏй‡ЏгЂ‚</p>

<p>з»ѓд№  4.3пјљ й‡Ќе†™reverseе‡Ѕж•°пјЊдЅїз”Ёж•°з»„жЊ‡й’€д»Јж›їsliceгЂ‚</p>

<pre><span class="kwd">func</span> <span class="pln">reverseV2</span><span class="pun">(</span><span class="pln">s</span> <span class="pun">*</span><span class="pun">[</span><span class="dec">10</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">for</span> <span class="pln">i</span><span class="pun">,</span> <span class="pln">j</span> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">,</span> <span class="dec">9</span><span class="pun">;</span> <span class="pln">i</span> <span class="pun">&lt;</span> <span class="pln">j</span><span class="pun">;</span> <span class="pln">i</span><span class="pun">,</span> <span class="pln">j</span> <span class="pun">=</span> <span class="pln">i</span><span class="pun">+</span><span class="dec">1</span><span class="pun">,</span> <span class="pln">j</span><span class="pun">-</span><span class="dec">1</span> <span class="pun">{</span>
		<span class="pun">(</span><span class="pun">*</span><span class="pln">s</span><span class="pun">)</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pun">,</span> <span class="pun">(</span><span class="pun">*</span><span class="pln">s</span><span class="pun">)</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span> <span class="pun">=</span> <span class="pun">(</span><span class="pun">*</span><span class="pln">s</span><span class="pun">)</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pun">,</span> <span class="pun">(</span><span class="pun">*</span><span class="pln">s</span><span class="pun">)</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span>
	<span class="pun">}</span>
<span class="pun">}</span>
</pre>

<p>з»ѓд№  4.4пјљ зј–е†™дёЂдёЄrotateе‡Ѕж•°пјЊйЂљиї‡дёЂж¬ЎеѕЄзЋЇе®Њж€ђй•џиЅ¬гЂ‚</p>

<pre><span class="kwd">func</span> <span class="pln">forwardRotate</span><span class="pun">(</span><span class="pln">s</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">int</span><span class="pun">,</span> <span class="pln">x</span> <span class="kwd">int</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="pln">mid</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">x</span>
	<span class="pln">k</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">mid</span>
	<span class="kwd">for</span> <span class="pln">i</span> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln">i</span> <span class="pun">&lt;</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">s</span><span class="pun">)</span><span class="pun">;</span> <span class="pln">i</span><span class="pun">+</span><span class="pun">+</span> <span class="pun">{</span>
		<span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pun">,</span> <span class="pln">s</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]</span> <span class="pun">=</span> <span class="pln">s</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]</span><span class="pun">,</span> <span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span>
		<span class="pln">k</span><span class="pun">+</span><span class="pun">+</span>
		<span class="kwd">if</span> <span class="pln">i</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">mid</span> <span class="pun">{</span>
			<span class="kwd">if</span> <span class="pln">k</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">s</span><span class="pun">)</span> <span class="pun">{</span>
				<span class="kwd">return</span>
			<span class="pun">}</span>
			<span class="pln">mid</span> <span class="pun">=</span> <span class="pln">k</span>
		<span class="pun">}</span> <span class="kwd">else</span> <span class="kwd">if</span> <span class="pln">k</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">s</span><span class="pun">)</span> <span class="pun">{</span>
			<span class="pln">k</span> <span class="pun">=</span> <span class="pln">mid</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
<span class="pun">}</span>
</pre>

<p>з»ѓд№  4.5пјљ е†™дёЂдёЄе‡Ѕж•°ењЁеЋџењ°е®Њж€ђж¶€й™¤[]stringдё­з›ёй‚»й‡Ќе¤Ќзљ„е­—з¬¦дёІзљ„ж“ЌдЅњгЂ‚</p>

<pre><span class="kwd">func</span> <span class="pln">noRepeatSide</span><span class="pun">(</span><span class="pln">s</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span> <span class="pun">{</span>
	<span class="pln">count</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">s</span><span class="pun">)</span>
	<span class="kwd">for</span> <span class="pln">i</span> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln">s</span> <span class="pun">{</span>
		<span class="kwd">if</span> <span class="pln">i</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln">s</span><span class="pun">)</span><span class="pun">-</span><span class="dec">1</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln">s</span>
		<span class="pun">}</span>
		<span class="kwd">if</span> <span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="dec">1</span><span class="pun">]</span> <span class="pun">{</span>
			<span class="pln">s</span> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln">s</span><span class="pun">[</span><span class="pun">:</span><span class="pln">i</span><span class="pun">]</span><span class="pun">,</span> <span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="dec">1</span><span class="pun">:</span><span class="pun">]</span><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">)</span>
			<span class="pln">count</span><span class="pun">-</span><span class="pun">-</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln">s</span>
<span class="pun">}</span>
</pre>

<h4>Map</h4>

<p>и™Ѕз„¶жµ®з‚№ж•°з±»ећ‹д№џжЇж”ЇжЊЃз›ёз­‰иїђз®—з¬¦жЇ”иѕѓзљ„пјЊдЅ†жЇе°†жµ®з‚№ж•°з”ЁеЃљkeyз±»ећ‹е€™жЇдёЂдёЄеќЏзљ„жѓіжі•пјЊж­Је¦‚з¬¬дё‰з« жЏђе€°зљ„пјЊжњЂеќЏзљ„жѓ…е†µжЇеЏЇиѓЅе‡єзЋ°зљ„NaNе’Њд»»дЅ•жµ®з‚№ж•°йѓЅдёЌз›ёз­‰гЂ‚еЇ№дєЋVеЇ№еє”зљ„valueж•°жЌ®з±»ећ‹е€™жІЎжњ‰д»»дЅ•зљ„й™ђе€¶.
mapдё­зљ„е…ѓзґ е№¶дёЌжЇдёЂдёЄеЏй‡ЏпјЊе› ж­¤ж€‘д»¬дёЌиѓЅеЇ№mapзљ„е…ѓзґ иї›иЎЊеЏ–еќЂж“ЌдЅњ.
mapдёЉзљ„е¤§йѓЁе€†ж“ЌдЅњпјЊеЊ…ж‹¬жџҐж‰ѕгЂЃе€ й™¤гЂЃlenе’ЊrangeеѕЄзЋЇйѓЅеЏЇд»Ґе®‰е…Ёе·ҐдЅњењЁnilеЂјзљ„mapдёЉпјЊе®ѓд»¬зљ„иЎЊдёєе’ЊдёЂдёЄз©єзљ„mapз±»дјјгЂ‚дЅ†жЇеђ‘дёЂдёЄnilеЂјзљ„mapе­е…Ґе…ѓзґ е°†еЇји‡ґдёЂдёЄpanicеј‚еёё.ењЁеђ‘mapе­ж•°жЌ®е‰Ќеї…йЎ»е…€е€›е»єmapгЂ‚
е’ЊsliceдёЂж ·пјЊmapд№‹й—ґд№џдёЌиѓЅиї›иЎЊз›ёз­‰жЇ”иѕѓпј›е”ЇдёЂзљ„дѕ‹е¤–жЇе’Њnilиї›иЎЊжЇ”иѕѓгЂ‚и¦Ѓе€¤ж–­дё¤дёЄmapжЇеђ¦еЊ…еђ«з›ёеђЊзљ„keyе’ЊvalueпјЊж€‘д»¬еї…йЎ»йЂљиї‡дёЂдёЄеѕЄзЋЇе®ћзЋ°.
е¦‚жћњз»“жћ„дЅ“зљ„е…ЁйѓЁж€ђе‘йѓЅжЇеЏЇд»ҐжЇ”иѕѓзљ„пјЊй‚Јд№€з»“жћ„дЅ“д№џжЇеЏЇд»ҐжЇ”иѕѓзљ„пјЊй‚Јж ·зљ„иЇќдё¤дёЄз»“жћ„дЅ“е°†еЏЇд»ҐдЅїз”Ё==ж€–!=иїђз®—з¬¦иї›иЎЊжЇ”иѕѓ.
GoиЇ­иЁЂжњ‰дёЂдёЄз‰№жЂ§и®©ж€‘д»¬еЏЄеЈ°жЋдёЂдёЄж€ђе‘еЇ№еє”зљ„ж•°жЌ®з±»ећ‹иЂЊдёЌжЊ‡еђЌж€ђе‘зљ„еђЌе­—пј›иї™з±»ж€ђе‘е°±еЏ«еЊїеђЌж€ђе‘гЂ‚еЊїеђЌж€ђе‘зљ„ж•°жЌ®з±»ећ‹еї…йЎ»жЇе‘ЅеђЌзљ„з±»ећ‹ж€–жЊ‡еђ‘дёЂдёЄе‘ЅеђЌзљ„з±»ећ‹зљ„жЊ‡й’€гЂ‚дё‹йќўзљ„д»Јз Ѓдё­пјЊCircleе’ЊWheelеђ„и‡ЄйѓЅжњ‰дёЂдёЄеЊїеђЌж€ђе‘гЂ‚ж€‘д»¬еЏЇд»ҐиЇґPointз±»ећ‹иў«еµЊе…Ґе€°дє†Circleз»“жћ„дЅ“пјЊеђЊж—¶Circleз±»ећ‹иў«еµЊе…Ґе€°дє†Wheelз»“жћ„дЅ“гЂ‚</p>

<pre><span class="kwd">type</span> <span class="typ">Circle</span> <span class="kwd">struct</span> <span class="pun">{</span>
<span class="typ">Point</span>
<span class="typ">Radius</span> <span class="kwd">int</span>
<span class="pun">}</span>
<span class="kwd">type</span> <span class="typ">Wheel</span> <span class="kwd">struct</span> <span class="pun">{</span>
<span class="typ">Circle</span>
<span class="typ">Spokes</span> <span class="kwd">int</span>
<span class="pun">}</span>
</pre>

<p>еѕ—з›ЉдєЋеЊїеђЌеµЊе…Ґзљ„з‰№жЂ§пјЊж€‘д»¬еЏЇд»Ґз›ґжЋҐи®їй—®еЏ¶е­ђе±ћжЂ§иЂЊдёЌйњЂи¦Ѓз»™е‡єе®Њж•ґзљ„и·Їеѕ„пјљ</p>

<pre><span class="kwd">var</span> <span class="pln">w</span> <span class="typ">Wheel</span>
<span class="pln">w</span><span class="pun">.</span><span class="typ">X</span> <span class="pun">=</span> <span class="dec">8</span> <span class="com">// equivalent to w.Circle.Point.X = 8</span>
<span class="pln">w</span><span class="pun">.</span><span class="typ">Y</span> <span class="pun">=</span> <span class="dec">8</span> <span class="com">// equivalent to w.Circle.Point.Y = 8</span>
<span class="pln">w</span><span class="pun">.</span><span class="typ">Radius</span> <span class="pun">=</span> <span class="dec">5</span> <span class="com">// equivalent to w.Circle.Radius = 5</span>
<span class="pln">w</span><span class="pun">.</span><span class="typ">Spokes</span> <span class="pun">=</span> <span class="dec">20</span>
</pre>

<p>дёєд»Ђд№€и¦ЃеµЊе…ҐдёЂдёЄжІЎжњ‰д»»дЅ•е­ђж€ђе‘з±»ећ‹зљ„еЊїеђЌж€ђе‘з±»ећ‹е‘ўпјџз­”жЎ€жЇ<code>еЊїеђЌз±»ећ‹зљ„ж–№жі•й›†</code>гЂ‚з®Ђзџ­зљ„з‚№иїђз®—з¬¦иЇ­жі•еЏЇд»Ґз”ЁдєЋйЂ‰ж‹©еЊїеђЌж€ђе‘еµЊеҐ—зљ„ж€ђе‘пјЊ<strong>д№џеЏЇд»Ґз”ЁдєЋи®їй—®е®ѓд»¬зљ„ж–№жі•</strong>гЂ‚е®ћй™…дёЉпјЊе¤–е±‚зљ„з»“жћ„дЅ“дёЌд»…д»…жЇиЋ·еѕ—дє†еЊїеђЌж€ђе‘з±»ећ‹зљ„ж‰Ђжњ‰ж€ђе‘пјЊиЂЊдё”д№џиЋ·еѕ—дє†иЇҐз±»ећ‹еЇје‡єзљ„е…ЁйѓЁзљ„ж–№жі•гЂ‚иї™дёЄжњєе€¶еЏЇд»Ґз”ЁдєЋе°†дёЂдёЄжњ‰з®ЂеЌ•иЎЊдёєзљ„еЇ№и±Ўз»„еђ€ж€ђжњ‰е¤Ќжќ‚иЎЊдёєзљ„еЇ№и±ЎгЂ‚<strong>з»„еђ€</strong>жЇGoиЇ­иЁЂдё­йќўеђ‘еЇ№и±Ўзј–зЁ‹зљ„ж ёеїѓ.</p>

                </div>
                <a class="ui large button" href="/2016/12/07/%e3%80%8aGo%e8%af%ad%e8%a8%80%e5%9c%a3%e7%bb%8f%e3%80%8b%e5%ad%a6%e4%b9%a0%e5%b0%8f%e8%ae%b0%ef%bc%881%ef%bc%89">Read More</a>
                <h4 class="ui horizontal header divider">
                    <a href="#">иї™жЇе€†з•Њзєїе“¦~~</a>
                </h4>
                
            </div>
        </div>


        <div class="ui inverted vertical footer segment">
            <div class="ui container">
                <div class="ui stackable inverted divided equal height stackable grid">
                    <div class="three wide column">
                        <h4 class="ui inverted header">About</h4>
                        <div class="ui inverted link list">
                            <a href="#" class="item">Sitemap</a>
                            <a href="#" class="item">Contact Us</a>
                            <a href="#" class="item">Religious Ceremonies</a>
                            <a href="#" class="item">Gazebo Plans</a>
                        </div>
                    </div>
                    <div class="three wide column">
                        <h4 class="ui inverted header">Services</h4>
                        <div class="ui inverted link list">
                            <a href="#" class="item">Banana Pre-Order</a>
                            <a href="#" class="item">DNA FAQ</a>
                            <a href="#" class="item">How To Access</a>
                            <a href="#" class="item">Favorite X-Men</a>
                        </div>
                    </div>
                    <div class="seven wide column">
                        <h4 class="ui inverted header">Footer Header</h4>
                        <p>Extra space for a call to action inside the footer that could help re-engage users.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


</body>

</html>